<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
    $(function(){
        var tbl = $("#ch-table")

        // 제목 tr부분에 있는 checkbox를 클릭하면 
        $(":checkbox:first",tbl).click(function () {

            // 만약 선택되어 있는가
            if($(this).is(":checked")){
                $(":checkbox",tbl).attr("checked","checked")
            }else{
                $(":checkbox",tbl).removeAttr("checked")
            }
            $(":checked",tbl).trigger("change")
        })
        $(":checkbox:not(:first)",tbl).click(function () {
            let allCnt = $(":checkbox:not(:first)",tbl).length
            let checkedCnt = $(":checkbox:not(:first)",tbl).filter(":checked").length
            if(allCnt == checkedCnt){
                $(":checkbox:first",tbl).attr("checked","checked")
            } else{
                $(":checkbox",tbl).removeAttr("checked")
            }
        }).change(function () {
            if($(this).is(":checked")){
                $(this).parent().parent().addClass("selected")
            }else{
                $(this).parent().parent().removeClass("selected")
            }
        })
    })
    </script>
    <style>
            table{
            
                border-collapse: collapse;
            }
            table td, table th{
            padding: 20px;
            }
            table th{
                background-color: #ccc;
            
            }
            table tr.selected{
                background-color: navy;
                color: #fff;
                font-weight: bold;
            }
            </style>
</head>

<body>
    <table border="1" id="ch-table">
        <caption>주소록</caption>
        <colgroup>
        <col width="50px"/>
        <col width="200px"/>
        <col width="500px"/>
    </colgroup>
        <tr>
            <th><input type="checkbox"></th>
            <th>이름</th>
            <th>전화번호</th>

        </tr>
        <tr>

            <td><input type="checkbox"></td>
            <td>홍길동</td>
            <td>1111</td>
        </tr>

        <tr>

            <td><input type="checkbox"></td>
            <td>이몽룡</td>
            <td>2222</td>
        </tr>
        
        <tr>

            <td><input type="checkbox"></td>
            <td>성춘향</td>
            <td>3333</td>
        </tr>
    </table>
</body>

</html>

</html>